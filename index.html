<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>校园导览APP - 首页</title>
    <link rel="stylesheet" href="./css/global.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/search.css">
    <link rel="stylesheet" href="./css/nav.css" />
    <style>
        /* 页面整体样式 */
        body {
            font-family: "Microsoft YaHei", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            overflow-x: hidden; /* 防止横向滚动 */
        }
        
        /* 顶部标题样式 */
        .header {
            text-align: center;
            padding: 2rem 0;
            background-color: #4a6de5;
            color: white;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: bold;
        }
        
        /* 内容容器样式 */
        .content-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        /* 卡片列表样式 */
        .campus-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
        }
        
        /* 卡片样式 */
        .campus-item {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 1.5rem;
            width: 100%;
            max-width: 350px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .campus-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }
        
        .campus-item h3 {
            margin: 0 0 0.8rem 0;
            color: #2196f3;
            font-size: 1.3rem;
        }
        
        .campus-item p {
            margin: 0 0 1.5rem 0;
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* 按钮组样式 */
        .btn-group {
            display: flex;
            gap: 0.8rem;
        }
        
        /* 按钮样式 */
        .btn {
            flex: 1;
            padding: 0.8rem 1rem;
            border: none;
            border-radius: 5px;
            color: #fff;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .btn-ar {
            background-color: #2196f3;
        }
        
        .btn-ar:hover {
            background-color: #0d8aee;
        }
        
        .btn-vr {
            background-color: #ff9800;
        }
        
        .btn-vr:hover {
            background-color: #e68900;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .content-container {
                padding: 1rem 0.5rem;
            }
            
            .campus-list {
                flex-direction: column;
                align-items: center;
            }
            
            .campus-item {
                max-width: 100%;
            }
        }


            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: var(--nav-height);
            background: var(--nav-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: var(--nav-shadow);
            z-index: 1000;
            padding-bottom: env(safe-area-inset-bottom);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--nav-text);
            text-decoration: none;
            width: 100%;
            height: 100%;
            padding: 8px 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            cursor: pointer;
        }

        .nav-icon-wrapper {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 4px;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-icon-path {
            fill: currentColor;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-text {
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 0.3px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-item:hover {
            color: var(--nav-text-active);
        }

        .nav-item:hover .nav-icon-wrapper {
            background: var(--nav-bg-hover);
            transform: translateY(-2px);
        }

        .nav-item.active {
            color: var(--nav-text-active);
        }

        .nav-item.active .nav-icon-wrapper {
            background: var(--nav-bg-hover);
            transform: translateY(-2px);
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        .nav-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--nav-text-active), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* 暗夜模式适配 */
        .dark-theme .modern-footer-nav {
            background: var(--nav-bg-dark);
            box-shadow: var(--nav-shadow-dark);
        }

        .dark-theme .nav-item {
            color: #9CA3AF;
        }

        .dark-theme .nav-item:hover,
        .dark-theme .nav-item.active {
            color: #60A5FA;
        }

        .dark-theme .nav-item:hover .nav-icon-wrapper,
        .dark-theme .nav-item.active .nav-icon-wrapper {
            background: rgba(96, 165, 250, 0.15);
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .modern-footer-nav {
                height: 56px;
            }

            .nav-icon-wrapper {
                width: 26px;
                height: 26px;
            }

            .nav-icon {
                width: 22px;
                height: 22px;
            }

            .nav-text {
                font-size: 10px;
            }
        }
    </style>
</head>
<body class="light-theme">
    <!-- 顶部导航栏 -->
    <div class="header-nav" id="headerNav">
        <div class="header-left">
            <svg class="logo" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <rect width="32" height="32" rx="4" fill="#4A6DE5"/>
                <path d="M8 10h16v2H8z" fill="white"/>
                <path d="M8 15h16v2H8z" fill="white"/>
                <path d="M8 20h10v2H8z" fill="white"/>
            </svg>
            <h1 class="logo-text">校园导览</h1>
        </div>
        <div class="header-middle">
            <input type="text" placeholder="搜索学校/功能" class="search-input">
        </div>
        <div class="header-right">
        </div>
    </div>
    
    <div class="page-content">
        <!-- 轮播图区域 -->
        <div class="banner-container" id="bannerContainer">
            <div class="banner-slider" id="bannerSlider">
                <a href="school-detail.html?school=1" class="banner-item active">
                    <svg class="banner-img" width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                        <rect width="800" height="400" fill="#4A6DE5"/>
                        <text x="400" y="200" font-family="Arial, sans-serif" font-size="36" fill="white" text-anchor="middle">学校1</text>
                    </svg>
                    <div class="banner-text">学校1 - 精彩介绍</div>
                </a>
                <a href="school-detail.html?school=2" class="banner-item">
                    <svg class="banner-img" width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                        <rect width="800" height="400" fill="#2196F3"/>
                        <text x="400" y="200" font-family="Arial, sans-serif" font-size="36" fill="white" text-anchor="middle">学校2</text>
                    </svg>
                    <div class="banner-text">学校2 - 精彩介绍</div>
                </a>
                <a href="school-detail.html?school=3" class="banner-item">
                    <svg class="banner-img" width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                        <rect width="800" height="400" fill="#FF9800"/>
                        <text x="400" y="200" font-family="Arial, sans-serif" font-size="36" fill="white" text-anchor="middle">学校3</text>
                    </svg>
                    <div class="banner-text">学校3 - 精彩介绍</div>
                </a>
            </div>
            <div class="banner-dots" id="bannerDots"></div>
        </div>

        <!-- 细分板块 -->
        <div class="section-container">
            <a href="school-category.html?category=ar" class="section-card">
                <svg class="section-icon" width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="25" fill="#4A6DE5"/>
                    <text x="25" y="32" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle">AR</text>
                </svg>
                <h3 class="section-title">AR导览</h3>
                <p class="section-desc">增强现实校园导览</p>
            </a>
            <a href="school-category.html?category=vr" class="section-card">
                <svg class="section-icon" width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="25" fill="#2196F3"/>
                    <text x="25" y="32" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle">VR</text>
                </svg>
                <h3 class="section-title">VR全景</h3>
                <p class="section-desc">虚拟现实全景体验</p>
            </a>
            <a href="school-category.html?category=map" class="section-card">
                <svg class="section-icon" width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="25" fill="#FF9800"/>
                    <path d="M15 15h20v20H15z" fill="none" stroke="white" stroke-width="2"/>
                    <path d="M15 25h20M25 15v20" stroke="white" stroke-width="2"/>
                </svg>
                <h3 class="section-title">校园地图</h3>
                <p class="section-desc">交互式校园地图</p>
            </a>
            <a href="school-category.html?category=info" class="section-card">
                <svg class="section-icon" width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="25" cy="25" r="25" fill="#48BB78"/>
                    <path d="M25 12v6M25 22v16" stroke="white" stroke-width="3" stroke-linecap="round"/>
                </svg>
                <h3 class="section-title">校园信息</h3>
                <p class="section-desc">校园最新资讯</p>
            </a>
        </div>

        <!-- 设施入口 -->
        <div class="campus-list">
            <!-- 校门卡片 -->
            <div class="campus-item">
                <h3>1. 校门</h3>
                <p>校园主入口，紧邻地铁2号线，设有访客登记处</p>
                <div class="btn-group">
                    <button class="btn btn-ar" onclick="window.location.href='ar-navigation.html?spot=gate'">AR导航</button>
                    <button class="btn btn-vr" onclick="window.location.href='vr-panorama.html?spot=gate'">VR全景</button>
                </div>
            </div>
            
            <!-- 主教学楼卡片 -->
            <div class="campus-item">
                <h3>2. 主教学楼</h3>
                <p>计算机学院、文学院所在地，配备多媒体教室</p>
                <div class="btn-group">
                    <button class="btn btn-ar" onclick="window.location.href='ar-navigation.html?spot=building'">AR导航</button>
                    <button class="btn btn-vr" onclick="window.location.href='vr-panorama.html?spot=building'">VR全景</button>
                </div>
            </div>
            
            <!-- 图书馆卡片 -->
            <div class="campus-item">
                <h3>3. 图书馆</h3>
                <p>馆藏图书100万+，提供自习室、电子阅览室</p>
                <div class="btn-group">
                    <button class="btn btn-ar" onclick="window.location.href='ar-navigation.html?spot=library'">AR导航</button>
                    <button class="btn btn-vr" onclick="window.location.href='vr-panorama.html?spot=library'">VR全景</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 底部导航栏 -->
    <nav class="modern-footer-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-item" data-page="index">
                <div class="nav-icon-wrapper">
                    <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path class="nav-icon-path" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                </div>
                <span class="nav-text">首页</span>
            </a>
            <a href="school-category.html" class="nav-item" data-page="school">
                <div class="nav-icon-wrapper">
                    <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path class="nav-icon-path" d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72l5 2.73 5-2.73v3.72z"/>
                    </svg>
                </div>
                <span class="nav-text">学校</span>
            </a>
            <a href="forum.html" class="nav-item" data-page="forum">
                <div class="nav-icon-wrapper">
                    <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path class="nav-icon-path" d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"/>
                    </svg>
                </div>
                <span class="nav-text">论坛</span>
            </a>
            <a href="user-center.html" class="nav-item" data-page="user">
                <div class="nav-icon-wrapper">
                    <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path class="nav-icon-path" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-1.79 4-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <span class="nav-text">我的</span>
            </a>
        </div>
        <div class="nav-indicator"></div>
    </nav>

    <script src="./js/banner.js"></script>
    <script src="./js/theme.js"></script>
    <script src="./js/search.js"></script>
    <script src="./js/navigation.js"></script>
    <script src="./js/footer.js"></script>
    <script>
        // 更新底部导航栏激活状态
        function updateFooterNav() {
            const currentPath = window.location.pathname.split('/').pop() || 'index.html';
            const navItems = document.querySelectorAll('.nav-item');

            // 移除所有激活状态
            navItems.forEach(item => {
                item.classList.remove('active');
            });

            // 设置当前页面的激活状态
            navItems.forEach(item => {
                const href = item.getAttribute('href');
                const page = item.getAttribute('data-page');

                // 根据页面类型判断
                if (page === 'index' && (currentPath === 'index.html' || currentPath === '' || currentPath === '/')) {
                    item.classList.add('active');
                } else if (page === 'school' && currentPath.includes('school')) {
                    item.classList.add('active');
                } else if (page === 'forum' && currentPath.includes('forum')) {
                    item.classList.add('active');
                } else if (page === 'user' && currentPath.includes('user')) {
                    item.classList.add('active');
                }
            });
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateFooterNav();
        });

        // 监听路径变化
        window.addEventListener('popstate', updateFooterNav);
    </script>
</body>
</html>
